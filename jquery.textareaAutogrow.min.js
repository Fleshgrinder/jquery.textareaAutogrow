(function(t,i){"use strict";t.fn.textareaAutogrow=function(){return this.filter("textarea:not(.textarea-autogrow)").each(function(){var e=t(this),n=t("<div>").css({display:"none",wordWrap:"break-word",width:e.width(),padding:e.css("padding"),fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontWeight:e.css("font-weight"),lineHeight:e.css("line-height")}),s=function(){for(var t=e.val(),i=[["<","&lt;"],[">","&gt;"],["&","&amp;"],["\n","<br/>"],['"',"&quot;"],["'","&#39;"],[" ","&nbsp;"]],s=0;i.length>s;++s)t=t.split(i[s][0]).join(i[s][1]);e.css("height",n.html(t+".<br/>.").height())};e.addClass("textarea-autogrow").css({overflow:"hidden",minHeight:e.height()}).after(n).bind("input propertychange",s),t(i).resize(function(){e.css({height:"",minHeight:e.height()}),n.css({width:e.width(),padding:e.css("padding"),fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontWeight:e.css("font-weight"),lineHeight:e.css("line-height")}),s()}),s()})}})(jQuery,window);